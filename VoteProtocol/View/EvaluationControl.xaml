<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:r="http://schemas.garnet-alice.net/ragnarok/xaml/presentation"
                    xmlns:v="clr-namespace:VoteSystem.Protocol.View">
    
    <r:ImageConverter x:Key="imageConverter" />
    <r:BooleanToVisibilityConverter x:Key="visibilityConverter"
                                    DefaultHiddenValue="Collapsed" />

    <ControlTemplate x:Key="mainControl">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="2*" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="2*" />
            </Grid.ColumnDefinitions>

            <!-- 画像表示 -->
            <Image Grid.RowSpan="2" Grid.ColumnSpan="2"
                   Stretch="Fill"
                   Source="{Binding SelectedImagePath,
                                    Converter={StaticResource imageConverter},
                                    RelativeSource={RelativeSource TemplatedParent}}" />

            <!-- 評価値 -->
            <Viewbox Grid.Row="1" Grid.Column="1"
                     Stretch="Uniform"
                     HorizontalAlignment="Right"
                     VerticalAlignment="Bottom">
                <r:DecoratedText Visibility="{Binding IsShowEvaluationPoint,
                                                      Converter={StaticResource visibilityConverter},
                                                      RelativeSource={RelativeSource TemplatedParent}}"
                                 Text="{Binding EvaluationPoint,
                                                StringFormat={}{0:0},
                                                RelativeSource={RelativeSource TemplatedParent}}"
                                 FontSize="50"
                                 Foreground="White"
                                 Stroke="Black"
                                 StrokeThickness="1.5" />
            </Viewbox>
        </Grid>
    </ControlTemplate>
    
    <Style TargetType="v:EvaluationControl">
        <Setter Property="Template" Value="{StaticResource mainControl}" />
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="Width" Value="300" />
        <Setter Property="Height" Value="300" />
    </Style>
</ResourceDictionary>
